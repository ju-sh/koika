# Included by the Makefile generated by Koika
DEFAULT_TARGET := pass
.PHONY: pass
pass:
	@:

# Makefile.platform.conf is a copy of Makefile.rv32i.conf or Makefile.rv32e.conf
-include Makefile.platform.conf

CXXFLAGS := --std=c++17
CUTTLESIM_DRIVER := rvcore.cuttlesim.cpp
CUTTLESIM_ARGS := $(default_test).rv32
CUTTLESIM_VCD_SCOPES := TOP top rv_core

# Faster GCOV runs
CUTTLESIM_COV_FLAGS := -Og -ggdb3

# Verilator config
VERILATOR_FLAGS := +define+MEM_ADDRESS_WIDTH=$(mem_address_width) +define+BRAM_RUNTIME_INIT+SIMULATION -CFLAGS -DVL_USER_FINISH
VERILATOR_DRIVER := rvcore.verilator.cpp
VERILATOR_ARGS := +VMH=$(default_test).vmh
VERILATOR_WARNINGS := -Wno-fatal
VERILATOR_TOP := top.v
# Set prefix to Vtop in all cases, to be able to switch between top and top_uart
VERILATOR_PREFIX := Vtop

# TinyFPGA config
FPGA_TOP := top_ice40_usb.v
FPGA_DEVICE := lp8k
FPGA_ICE40_PACKAGE := cm81
FPGA_PCF := tinyfpga-bx.pins.pcf
FPGA_YOSYS_OPTS := '-DMEM_FILENAME="$(default_test).vmh"' -DMEM_ADDRESS_WIDTH=$(mem_address_width)
FPGA_YOSYS_LIBDIRS := . sv/tinyfpga_bx_usbserial/usb
